/*! finlog - v0.1.0 - 2015-11-10 Copyright (c) 2015 vfinance; Licensed MIT */
require("./app").register.controller("dashboardSubController",function($scope){}),require("./app").register.controller("dashboardController",function($scope,$myhttp){$scope.tabPage="/public/views/dashboard_sub.html",$scope.tabConfig={newTabName:"仪表盘",tabs:[],templateUrl:$scope.tabPage,saveCallback:function(tab){var tagEntity={id:tab.id,name:tab.name,$$hashKey:tab.$$hashKey};$myhttp.post("/dashboard/tag/saveOrUpdate",JSON.stringify(tagEntity),function(response){response.success||alert(response.message)})},delCallback:function(tab){var tag={tagId:tab.id};$myhttp.post("/dashboard/tag/delete",JSON.stringify(tag),function(response){response.success||alert(response.message)})}},$myhttp.post("/dashboard/tag/queryList",function(data){data.message?(console.log("加载标签出现异常，原因："+data.message),alert("加载标签出现异常!")):_.each(data,function(cfg){$scope.tabConfig.addTab(cfg,!0)})})});